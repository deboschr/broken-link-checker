<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<BorderPane xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.unpar.brokenlinkchecker.Controller"
            prefWidth="1280" prefHeight="800"
            styleClass="root">

    <!-- Main Content -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox styleClass="main-container" spacing="24" alignment="TOP_CENTER">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <!-- Seed URL Card -->
                <VBox styleClass="card" spacing="12" prefWidth="1000">
                    <Label text="Seed URL" styleClass="filter-label"/>
                    <HBox spacing="12">
                        <TextField fx:id="seedUrlField" promptText="https://example.com"
                                   styleClass="text-input" HBox.hgrow="ALWAYS"/>
                        <Button text="Start" onAction="#onStartClick" styleClass="button-primary"/>
                        <Button text="Stop" onAction="#onStopClick" styleClass="button-secondary"/>
                    </HBox>
                </VBox>

                <!-- Summary + Filters Section -->
                <HBox spacing="24" prefWidth="1000" alignment="TOP_CENTER">

                    <!-- Summary -->
                    <VBox styleClass="card" spacing="16">
                        <Label text="Summary" styleClass="card-value"/>
                        <HBox spacing="16">
                            <VBox alignment="CENTER" prefWidth="200" prefHeight="100" styleClass="card">
                                <Label text="Checking Status" styleClass="card-subtitle"/>
                                <Region VBox.vgrow="ALWAYS"/>
                                <Label fx:id="checkingStatusLabel" styleClass="card-value"/>
                                <Region VBox.vgrow="ALWAYS"/>
                            </VBox>
                            <VBox alignment="CENTER" prefWidth="200" prefHeight="100" styleClass="card">
                                <Label text="Total Links" styleClass="card-subtitle"/>
                                <Region VBox.vgrow="ALWAYS"/>
                                <Label fx:id="totalLinksLabel" styleClass="card-value"/>
                                <Region VBox.vgrow="ALWAYS"/>
                            </VBox>
                            <VBox alignment="CENTER" prefWidth="200" prefHeight="100" styleClass="card">
                                <Label text="Webpage Links" styleClass="card-subtitle"/>
                                <Region VBox.vgrow="ALWAYS"/>
                                <Label fx:id="webpageLinksLabel" styleClass="card-value"/>
                                <Region VBox.vgrow="ALWAYS"/>
                            </VBox>
                            <VBox alignment="CENTER" prefWidth="200" prefHeight="100" styleClass="card">
                                <Label text="Broken Links" styleClass="card-subtitle"/>
                                <Region VBox.vgrow="ALWAYS"/>
                                <Label fx:id="brokenLinksLabel" styleClass="card-value-red"/>
                                <Region VBox.vgrow="ALWAYS"/>
                            </VBox>
                        </HBox>
                    </VBox>

                    <!-- Filters -->
                    <VBox styleClass="card" spacing="16" HBox.hgrow="ALWAYS">
                        <Label text="Filters" styleClass="card-value"/>

                        <!-- URL Filter -->
                        <VBox spacing="8">
                            <Label text="URL" styleClass="filter-label"/>
                            <HBox spacing="8">
                                <ComboBox styleClass="combo-box">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="contains"/>
                                            <String fx:value="equals"/>
                                            <String fx:value="starts with"/>
                                            <String fx:value="ends with"/>
                                        </FXCollections>
                                    </items>
                                </ComboBox>
                                <TextField promptText="Enter URL..." styleClass="text-input" HBox.hgrow="ALWAYS"/>
                            </HBox>
                        </VBox>

                        <!-- Status Code Filter -->
                        <VBox spacing="8">
                            <Label text="Status Code" styleClass="filter-label"/>
                            <HBox spacing="8">
                                <ComboBox styleClass="combo-box">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="equals"/>
                                            <String fx:value="greater than"/>
                                            <String fx:value="less than"/>
                                        </FXCollections>
                                    </items>
                                </ComboBox>
                                <TextField promptText="404 / 500..." styleClass="text-input" HBox.hgrow="ALWAYS"/>
                            </HBox>
                        </VBox>
                    </VBox>
                </HBox>

                <!-- Results Section -->
                <VBox spacing="12" prefWidth="1000">
                    <HBox spacing="12">
                        <Label text="Results" styleClass="card-value"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="Export" onAction="#onExportClick" styleClass="button-secondary"/>
                    </HBox>

                    <!-- Results Table -->
                    <TableView fx:id="resultsTable" prefHeight="400" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="statusColumn" text="Status" resizable="false"/>
                            <TableColumn fx:id="urlColumn" text="URL" resizable="false"/>
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>